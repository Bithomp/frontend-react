export const DAPPS_META = [
  {
    10011010: {
      name: 'Magnetic',
      url: 'xmagnetic.org',
      wallets: ['xaman', 'metamask', 'gemwallet', 'crossmark'],
      walletconnect: ['joey', 'bifrost', 'girin'],
      x: 'MagneticXRPL',
      logo: 'magnetic.png'
    },
    101102979: {
      name: 'xrp.cafe',
      url: 'xrp.cafe',
      wallets: ['xaman', 'gemwallet', 'crossmark'],
      walletconnect: ['joey', 'bifrost', 'girin'],
      x: 'xrpcafe',
      discord: 'invite/xrpcafe',
      logo: 'xrpcafe.png'
    },
    74920348: {
      name: 'First Ledger',
      url: 'firstledger.net',
      walletconnect: ['joey'],
      x: 'first_ledger',
      logo: 'firstledger.png'
    },
    20221212: {
      name: 'XPMarket',
      url: 'xpmarket.com',
      wallets: ['xaman', 'ledger', 'metamask', 'gemwallet', 'crossmark'],
      walletconnect: ['joey', 'bifrost', 'girin'],
      x: 'xpmarket',
      linkedin: 'company/xpmarket',
      logo: 'xpmarket.png'
    },
    69420589: {
      name: 'bidds',
      url: 'bidds.com',
      wallets: ['xaman', 'gemwallet'],
      walletconnect: ['bifrost'],
      x: 'biddsonxrpl',
      logo: 'bidds.png'
    },
    744925538: {
      name: 'Phi Wallet',
      url: 'phiwallet.com',
      x: 'PhiWallet',
      instagram: 'phi.wallet',
      linkedin: 'company/phiwallet',
      facebook: 'PhiWallet',
      logo: 'phiwallet.png'
    },
    110100111: {
      name: 'Sologenic',
      url: 'sologenic.com',
      wallets: ['ledger', 'dcent', 'xaman', 'crossmark'],
      x: 'realsologenic',
      discord: 'invite/UhUBwPKNdu',
      instagram: 'realsologenic',
      facebook: 'realsologenic',
      logo: 'sologenic.png'
    },
    11782013: {
      name: 'Anodos',
      url: 'anodos.finance',
      wallets: ['xaman'],
      walletconnect: ['joey', 'bifrost', 'girin'],
      x: 'AnodosFinance',
      discord: 'invite/CVUkhxCHvZ',
      linkedin: 'company/anodosfinance',
      logo: 'anodos.png'
    },
    42697468: {
      name: 'Bithomp',
      url: 'bithomp.com',
      wallets: ['xaman', 'ledger', 'xyra', 'crossmark', 'gemwallet', 'metamask'],
      walletconnect: ['joey', 'bifrost', 'girin', 'uphodl'],
      x: 'bithomp',
      discord: 'invite/ZahGJ29WEs',
      instagram: 'bithomp',
      linkedin: 'company/bithomp',
      facebook: 'xrpexplorer',
      logo: 'bithomp.png'
    },
    89898989: {
      name: 'Axelar Bridge',
      url: 'axelar.foundation',
      wallets: ['metamask'],
      x: 'axelar',
      discord: 'invite/axelar',
      logo: 'axelar.png'
    },
    20102305: {
      name: 'OpulenceX',
      url: 'opulencex.io',
      wallets: ['xaman', 'crossmark', 'gemwallet'],
      walletconnect: ['bifrost'],
      x: '_OpulenceX',
      linkedin: 'company/opulencex-ltd',
      logo: 'opulencex.png'
    },
    13888813: {
      name: 'Zerpmon',
      url: 'zerpmon.world',
      wallets: ['xaman', 'crossmark'],
      walletconnect: ['joey', 'girin'],
      x: 'zerpmon',
      linkedin: 'company/gen3labs',
      logo: 'zerpmon.png'
    },
    100010010: {
      name: 'Static Bit',
      url: 'staticbit.io',
      x: 'StaticBit_io',
      logo: 'staticbit.png'
    },
    19089388: {
      name: 'Hummingbot',
      url: 'hummingbot.org',
      x: '_hummingbot',
      discord: 'invite/hummingbot',
      linkedin: 'hummingbot-foundation',
      logo: 'hummingbot.png'
    },
    658879330: {
      name: 'Filedgr',
      url: 'filedgr.com',
      x: 'filedgr',
      discord: 'invite/MbxvxFszRw',
      linkedin: 'company/filedger',
      logo: 'filedgr.png'
    },
    510162502: {
      name: 'Sonar Muse',
      url: 'sonarmuse.org',
      wallets: ['xaman'],
      x: 'SonarMuse',
      instagram: 'sonar-muse',
      logo: 'sonarmuse.png'
    },
    60006000: {
      name: 'Moai Finance',
      url: 'moai-finance.xyz',
      wallets: ['metamask'],
      walletconnect: ['joey', 'bifrost', 'girin'],
      x: 'MoaiFinance',
      discord: 'invite/PSrF5z34dV',
      logo: 'moaifinance.png'
    },
    280957156: {
      name: 'Dhali',
      url: 'dhali.io',
      wallets: ['xaman', 'crossmark', 'gemwallet'],
      x: 'dhali_io',
      linkedin: 'company/dhali-io',
      logo: 'dhali.png'
    },
    38887387: {
      name: 'Futureverse',
      url: 'futureverse.com',
      x: 'futureverse',
      discord: 'invite/futureverse',
      instagram: 'futureverse',
      linkedin: 'company/futureverseofficial',
      logo: 'futureverse.png'
    },
    80008000: {
      name: 'Orchestra Finance',
      url: 'orchestra.finance',
      wallets: ['crossmark', 'xaman', 'gemwallet'],
      x: 'OrchestraFi',
      discord: 'invite/orchestrafinance',
      logo: 'orchestrafinance.png'
    },
    20220613: {
      name: 'DalliPay',
      url: 'www.dallipay.com',
      x: 'DalliPay',
      logo: 'dallipay.png'
    },
    30033003: {
      name: 'Calypso wallet',
      url: 'xcalypso.com',
      x: 'CalypsoWallet',
      logo: 'calypsowallet.png'
    },
    111: {
      name: 'Horizon',
      url: 'horizonxrpl.com',
      x: 'HorizonXRPL',
      logo: 'horizon.png'
    },
    10102021: {
      name: 'Junction'
    },
    690321814: {
      name: 'Gatehub bridge',
      url: 'gatehub.net',
      x: 'GateHub',
      linkedin: 'company/gatehub-limited',
      facebook: 'GateHubNet',
      logo: 'gatehub.png'
    },
    589123: {
      name: 'Katz Wallet',
      url: 'katzwallet.com',
      x: 'katzwallet',
      logo: 'katzwallet.png'
    },
    1741383633: {
      name: 'Trust Wallet',
      url: 'trustwallet.com',
      x: 'trustwallet',
      discord: 'invite/trustwallet',
      instagram: 'trustwallet',
      linkedin: 'company/trustwallet',
      facebook: 'trustweb3',
      logo: 'trustwallet.png'
    },
    494456745: {
      name: 'Aigent',
      url: 'aigent.run',
      x: 'aigentdotrun',
      discord: 'invite/cE4s2MNhkR',
      logo: 'aigent.png'
    },
    524942424: {
      name: 'Ribble Trading Bot',
      url: 't.me/ribble_trading_bot',
      logo: 'ribbletradingbot.png'
    }
  }
]

const normalizeWalletId = (w) => (typeof w === 'string' ? w.trim().toLowerCase() : '')

export const WALLET_FREQ = (() => {
  const metaObj = DAPPS_META?.[0] || {}
  const freq = {}

  Object.values(metaObj).forEach((entry) => {
    const list = [
      ...(Array.isArray(entry?.wallets) ? entry.wallets : []),
      ...(Array.isArray(entry?.walletconnect) ? entry.walletconnect : [])
    ]

    list
      .map(normalizeWalletId)
      .filter(Boolean)
      .forEach((id) => {
        freq[id] = (freq[id] || 0) + 1
      })
  })

  return freq
})()

export const WALLET_POPULARITY = (() => {
  // Most frequent first; tie-breaker: alphabetical
  return Object.entries(WALLET_FREQ)
    .sort((a, b) => b[1] - a[1] || a[0].localeCompare(b[0]))
    .map(([id]) => id)
})()
